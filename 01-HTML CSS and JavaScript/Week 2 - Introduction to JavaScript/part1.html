<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>JavaScript Color Guessing Game</title>

    <script type="text/javascript">
      var target;
      var colours = ["black","blue","brown","cyan","gold","grey","green",
        "indigo","magenta","navy","pink","purple","red","yellow"];
      var guess_input;
      var finished = false;
      var guesses = 0;
      colours.sort()

      function do_game() {
        var target_index = Math.random() * colours.length; // [0,length)
        target_index = Math.floor(target_index); // [0, length-1]
        target = colours[target_index];
        alert("The target color is: " + target);

        /* I have decided to use a "do while" loop so I can handle the case in
        which the user presses the "cancel" button.
        */
        do {
          guess_input = prompt("I'm thinking of one of these colours:"+
                                    "\n\n"+ colours.join(", ") + "\n\n"+
                                    "What colour am I thinking of?");
          guesses += 1;
          if (guess_input == target) {
            finished = true;
          }
        }
        while (!finished && guess_input != null)
      }
    </script>
  </head>

  <body onload="do_game()">
  </body>
</html>
